"use strict";(self.webpackChunkhap_react=self.webpackChunkhap_react||[]).push([[288],{288:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var s=t(9439),i=t(2791),a=t(7823),r=t(9434),l=t(3464),c=t(8865),o=t(9037),d=t(5223),m=t(1296),u=t(5281),x=t(4275),h=t(882),p=t(1087),f=t(184),b=function(e){var n=e.item,t=(0,r.I0)(),s=n.subItems,i=void 0===s?[]:s;return(0,f.jsxs)(l.Z,{children:[(0,f.jsx)(c.Z,{className:" py-1",children:(0,f.jsxs)("div",{className:"card-title mb-0",children:[n.title,(0,f.jsx)("span",{className:"text-secondary"})]})}),(0,f.jsx)(o.Z,{className:"pt-2",children:(0,f.jsx)("div",{className:"card-text text-muted mb-0",children:(0,f.jsx)("ol",{className:"ps-3 text-muted mb-0 ",children:(i||[]).map((function(e,n){return(0,f.jsx)("li",{className:"py-2",children:(0,f.jsxs)(p.rU,{to:"#",className:"text-muted",onClick:function(){return function(e){t((0,h.rF)(e))}(e)},children:[e.template_id,(0,f.jsxs)("span",{className:"float-end",children:["(",e.cnt,")"]})]})},n)}))})})})]})},j=function(e){var n=(0,r.I0)(),t=(0,r.v9)((function(e){return e.common})).currentStock,s=void 0===t?{}:t,a=s.stock_code,j=void 0===a?null:a;(0,i.useEffect)((function(){j&&n((0,h.ee)(j))}),[j]);var g=(0,r.v9)((function(e){return e.template})).templateSummary,N=void 0===g?[]:g,v=N.templates,y=N.lastTenFinancials,w=void 0===y?[]:y;return e.leftColumn?s?(0,f.jsxs)("div",{className:"app-page-sidebar p-0 pb-0 mb-0 mt-2",children:[(v||[]).map((function(e,n){return(0,f.jsx)(b,{item:e},n)})),(0,f.jsx)("div",{className:"p-0",children:(0,f.jsxs)(l.Z,{children:[(0,f.jsx)(c.Z,{className:" py-1",children:(0,f.jsxs)("h5",{className:"card-title m-0 py-1",children:["Son Yaynlana Bilan\xe7olar",(0,f.jsx)("span",{className:"text-secondary"})]})}),(0,f.jsx)(o.Z,{className:"pt-1",children:(0,f.jsxs)("div",{className:"card-text text-muted m-0",children:[w.map((function(e,n){return(0,f.jsx)("div",{className:"d-block dropdown-item text-wrap dropdown-item-cart px-1 py-2 ",children:(0,f.jsxs)("div",{className:"d-flex align-items-center",children:[(0,f.jsxs)("div",{className:"flex-1",children:[(0,f.jsx)("div",{className:"mt-0 mb-1 fs-14",children:(0,f.jsxs)(p.rU,{to:e.url,className:"text-reset",target:"_blank",rel:"noopener noreferrer",children:[e.year," /",e.period," - ",e.subject]})}),(0,f.jsxs)("p",{className:"mb-0 fs-12 text-muted",children:[" ",e.statement]}),(0,f.jsx)("p",{className:"mb-0 fs-12 text-muted",children:e.summary}),(0,f.jsx)("p",{className:"mb-0 fs-11 fw-medium text-uppercase text-muted",children:(0,f.jsxs)("span",{children:[(0,f.jsx)("i",{className:"mdi mdi-clock-outline"})," ",e.time]})})]}),(0,f.jsx)("div",{className:"ps-2",children:(0,f.jsx)("div",{className:"m-0",children:(0,f.jsxs)(d.Z,{className:"",children:[(0,f.jsx)(m.Z,{type:"button",tag:"button",className:"btn btn-icon btn-topbar btn-ghost-secondary rounded-circle",children:(0,f.jsx)("i",{className:"bx bx-link fs-16"})}),(0,f.jsxs)(u.Z,{children:[(0,f.jsx)(x.Z,{header:!0,children:(0,f.jsx)("div",{className:"fs-5 fs-bold",children:"Bilan\xe7o Linkleri"})}),(0,f.jsx)(p.rU,{type:"button",to:e.kapURL,target:"_blank",rel:"noopener noreferrer",className:"dropdown-item",children:"KAP"}),(0,f.jsx)(p.rU,{type:"button",to:e.isyatirimURL,target:"_blank",rel:"noopener noreferrer",className:"dropdown-item",children:"i\u015e YATIRIM"}),(0,f.jsx)(p.rU,{type:"button",to:e.isyatirinJsonURL,target:"_blank",rel:"noopener noreferrer",className:"dropdown-item",children:"i\u015e YATIRIM JSON"}),(0,f.jsx)(p.rU,{type:"button",to:e.YFinanceURL,target:"_blank",rel:"noopener noreferrer",className:"dropdown-item",children:"YFINANCE"})]})]})})})]})},n)}))," "]})})]})})]}):(0,f.jsx)("div",{className:"app-page-sidebar p-0 pb-0 mb-0 mt-2"}):""},g=t(3009),N=t(9127),v=t(6662),y=t(948),w=t(8422),k=t(1067),Z="row",D=function(e){var n=e.children,t=e.onDrag,a=e.rowData,r=e.plugin,l=e.selected,c=i.useRef(null),o=(0,w.L)((function(){return{accept:Z,collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}},drop:function(e){null===t||void 0===t||t(e.id,a.id)}}})),d=(0,s.Z)(o,2),m=d[0],u=m.canDrop,x=m.isOver,h=d[1],p=(0,k.c)((function(){return{type:Z,end:function(){r.onDragEnd()},item:function(){return console.log("start"),r.onDragStart(),{id:a.id}},collect:function(e){return{isDragging:e.isDragging(),handlerId:e.getHandlerId()}}}})),b=(0,s.Z)(p,2),j=b[0].isDragging,g=u&&x;(0,b[1])(h(c));var N={cursor:"grab",opacity:j?.5:1,background:g?"#ddd":l?"rgba(243, 246, 249,1)":null,width:"100%",height:"100%",borderTop:g?"2px solid #2589f5":null};return(0,f.jsx)("div",{ref:c,className:"abc",style:N,children:n})},C=t(1413),_=t(5987),L=t(3628),S=t(8118),I=["rowData","dataKey","onChange","onFocus"],R=function(e){var n=e.rowData,t=e.dataKey,s=e.onChange,i=e.onFocus,a=(0,_.Z)(e,I);return(0,f.jsx)(v.bL,(0,C.Z)((0,C.Z)({},a),{},{children:"EDIT"!=n.status?(0,f.jsx)(L.DebounceInput,{element:S.Z,minLength:1,debounceTimeout:-1,forceNotifyOnBlur:!0,className:"input  w-100",value:n[t]||"",onFocus:function(e){i&&i(e)},onChange:function(e){n[t]=e.target.value,s&&s(n.id,t,e.target.value,n)}}):n[t]}))},U=t(3144),E=t(5671),K=(0,U.Z)((function e(n){var t=this;(0,E.Z)(this,e),this.data={isDragging:!1},this.onDragStart=function(){t.data={isDragging:!0,lastMouseClientY:void 0},t.smoothscroll(t.tableRef)},this.onDragEnd=function(){t.data={isDragging:!1,lastMouseClientY:void 0}},this.addEventListeners=function(){t.tableRef.current&&t.tableRef.current.root.addEventListener("dragover",(function(e){t.data.lastMouseClientY=e.clientY}))},this.smoothscroll=function(){},this.tableRef=n,this.addEventListeners()})),T=function(e){var n=e.showHiddenRow,t=(0,i.useState)(null),a=(0,s.Z)(t,2),l=a[0],c=a[1],o=(0,r.I0)(),d=(0,i.useRef)(null),m=(0,r.v9)((function(e){return e.common})),u=m.loading,x=m.currentStock.stock_code,b=void 0===x?null:x,j=(0,r.v9)((function(e){return e.template})),g=j.selectedTemplate,w=void 0===g?{}:g,k=j.templateData,Z=void 0===k?[]:k,C=j.cols,_=void 0===C?[]:C;(0,i.useEffect)((function(){w&&o((0,h.$Q)({stock_code:b,template_id:w.template_id,template_type:w.template_type}))}),[w]);var L=function(e){return"asc"===e?(0,f.jsx)("i",{className:" ri-arrow-drop-up-line mx-2 "}):"desc"===e?(0,f.jsx)("i",{className:"ri-arrow-drop-up-line mx-2"}):(0,f.jsx)("i",{className:"ri-arrow-drop-up-line  mx-2"})},S=function(e,n,t,s){var i={id:e,key:n,value:t,rowData:s};o((0,h.gW)(i))},I=function(e,n){e!=n&&(o((0,h.rH)({sourceId:e,targetId:n})),c(e))},U=Z.filter((function(e){return e.isHidden==n})),E=new K(d);return(0,f.jsxs)(v.iA,{data:U,fillHeight:!0,loading:u,cellBordered:!0,bordered:!0,rowHeight:42,virtualized:!0,rowKey:"id",onRowClick:function(e){console.log(e)},ref:d,renderRow:function(e,t){return t&&!n?(0,f.jsx)(D,{rowData:t,id:t.id,onDrag:I,plugin:E,selected:t.id===l,children:e},t.id):e},children:[(0,f.jsxs)(v.sg,{width:90,align:"center",fixed:!0,children:[(0,f.jsx)(v.qN,{children:"id"}),(0,f.jsx)(v.bL,{dataKey:"id",children:function(e){return(0,f.jsxs)("ul",{className:"list-inline hstack gap-0 mb-0",children:[(0,f.jsx)("li",{className:"list-inline-item edit",title:"Azalt",onClick:function(){e.level>0&&(e.level=e.level-1,o((0,h.h0)({iid:e.id,rowData:e,type:"decrease"})))},children:(0,f.jsx)(p.rU,{to:"#",className:"text-muted d-inline-block",children:(0,f.jsx)("i",{className:"ri-indent-decrease fs-16"})})}),(0,f.jsx)("li",{className:"list-inline-item edit",title:"Artt\u0131r",onClick:function(){e.level=e.level+1,o((0,h.h0)({iid:e.id,rowData:e,type:"increase"}))},children:(0,f.jsx)(p.rU,{to:"#",className:"text-muted d-inline-block",children:(0,f.jsx)("i",{className:"ri-indent-increase fs-16"})})}),(0,f.jsx)("li",{className:"list-inline-item edit",title:"Artt\u0131r",onClick:function(){e.isHidden=!n,o((0,h.h0)({iid:e.id,rowData:e,type:"increase"}))},children:(0,f.jsx)(p.rU,{to:"#",className:"text-muted d-inline-block",children:(0,f.jsx)("i",{className:n?"  ri-eye-fill fs-16 ":"  ri-eye-off-fill fs-16"})})})]})}})]}),(0,f.jsxs)(v.sg,{width:80,align:"left",resizable:!0,fixed:!0,children:[(0,f.jsx)(v.qN,{children:"Row"}),(0,f.jsx)(v.bL,{dataKey:"row_number"})]}),(0,f.jsxs)(v.sg,{width:350,align:"left",resizable:!0,fixed:!0,children:[(0,f.jsx)(v.qN,{children:"label"}),(0,f.jsx)(v.bL,{dataKey:"label",children:function(e,n){var t=e.level,s=n+1 in U?U[n+1].level:t,i="\t".repeat(e.level)+e.label,a={whiteSpace:"pre",tabSize:8,textTransform:t<s?"uppercase":null,fontWeight:t<s?"bolder":null};return(0,f.jsx)("span",{style:a,children:i})}})]}),(0,f.jsxs)(v.sg,{width:100,align:"center",resizable:!0,fixed:!0,children:[(0,f.jsx)(v.qN,{children:"item code"}),(0,f.jsx)(R,{dataKey:"item_code",onChange:S})]}),(0,f.jsxs)(v.sg,{width:350,align:"center",resizable:!0,fixed:!0,children:[(0,f.jsx)(v.qN,{children:"item_desc"}),(0,f.jsx)(R,{dataKey:"item_desc",onChange:S})]}),(_||[]).map((function(e){return(0,f.jsxs)(v.sg,{width:120,align:"right",resizable:!0,children:[(0,f.jsxs)(v.qN,{renderSortIcon:L,children:[e.period,(0,f.jsx)(p.rU,{to:e.kapURL,target:"_blank",rel:"noopener noreferrer",children:(0,f.jsx)(N.Z,{type:"button",className:"btn btn-icon btn-topbar btn-sm btn-ghost-secondary   mb-1 ml-2",children:(0,f.jsx)("i",{className:"ri-information-line"})})})]}),(0,f.jsx)(v.bL,{dataKey:e.period,children:function(n){var t=0===n[e.period]?"":n[e.period];return(0,f.jsx)(y.h3,{value:t,allowLeadingZeros:!0,thousandSeparator:",",displayType:"text"})}})]},e)}))]})},z=t(5287),F=t(6401),H=t(5782),Y=(0,t(4235).ZP)("div"),A=function(e){var n=e.hideLeftColumn,t=e.leftColumn,a=(0,r.I0)(),l=(0,i.useState)(!1),c=(0,s.Z)(l,2),o=c[0],d=c[1],m=(0,i.useState)(!1),u=(0,s.Z)(m,2),x=u[0],p=u[1],b=(0,r.v9)((function(e){return e.common})).currentStock,j=void 0===b?{}:b,v=j.stock_code,y=void 0===v?null:v,w=j.stock_name,k=void 0===w?"":w,Z=(0,r.v9)((function(e){return e.template})),D=Z.selectedTemplate,C=void 0===D?{}:D,_=Z.isDirty,L=C.label,S=void 0===L?"":L,I=C.template_id,R=void 0===I?"":I,U=(0,H.r)();return console.log(x),(0,f.jsxs)(H.I,{className:"app-page-content w-100 p-2 pb-0 m-2",handle:U,children:[(0,f.jsxs)(g.Z,{className:"mt-2 mb-2 g-0",children:[(0,f.jsx)("div",{className:"col-auto order-1 d-block mx-1",children:(0,f.jsx)("button",{type:"button",className:"btn btn-icon btn-sm fs-16 file-menu-btn btn-ghost-primary",onClick:function(){return n()},children:t?(0,f.jsx)("i",{className:"ri-menu-2-fill align-bottom"}):(0,f.jsx)("i",{className:" ri-arrow-right-line align-bottom"})})}),(0,f.jsx)("div",{className:"d-flex col-sm order-3 order-sm-2 align-items-center  ",children:(0,f.jsx)("h5",{className:"fw-semibold mb-0",children:y?(0,f.jsxs)(f.Fragment,{children:[y," - ",k,R?(0,f.jsxs)("span",{className:"badge bg-primary align-bottom ms-2",children:[S,"-",R]}):(0,f.jsx)("span",{className:"badge bg-primary align-bottom ms-2",children:"Template Seciniz"})]}):(0,f.jsx)(f.Fragment,{children:"Hisse Seciniz"})})}),(0,f.jsx)("div",{className:"col-auto order-2 order-sm-3 ms-auto",children:(0,f.jsxs)("div",{className:"hstack gap-1",children:[(0,f.jsx)(N.Z,{onClick:function(){a((0,h.G2)())},type:"button",className:"btn btn-icon btn-topbar btn-ghost-secondary rounded-circle",children:(0,f.jsx)("i",{className:"bx bxs-no-entry fs-16"})}),(0,f.jsx)(N.Z,{onClick:function(){p(!x)},type:"button",className:"btn btn-icon btn-topbar btn-ghost-secondary rounded-circle",children:(0,f.jsx)("i",{className:x?"  ri-eye-off-fill fs-16 ":"  ri-eye-fill fs-16"})}),(0,f.jsxs)(N.Z,{color:"info",disabled:!_,className:"btn-label btn-success",children:[(0,f.jsx)("i",{className:"ri-save-3-fill label-icon align-middle fs-16 me-2"}),"Kaydet"]}),(0,f.jsxs)(N.Z,{color:"success",className:"btn-label ",children:[(0,f.jsx)("i",{className:"ri-save-3-fill label-icon align-middle fs-16 me-2"}),"Excele aktar"]}),(0,f.jsx)("button",{onClick:function(){o?(U.exit(),d(!1)):(U.enter(),d(!0))},type:"button",className:"btn btn-icon btn-topbar btn-ghost-secondary rounded-circle",children:(0,f.jsx)("i",{className:o?"bx bx-exit-fullscreen fs-22":"bx bx-fullscreen fs-22"})})]})})]}),(0,f.jsxs)("div",{className:"h-100",id:"dashboard-link",children:[" ",(0,f.jsx)(z.W,{backend:F.PD,children:(0,f.jsx)(Y,{className:"app-page-content-scroll w-100  py-0",children:(0,f.jsx)(T,{showHiddenRow:x})})})]})]})},q=function(){var e=(0,i.useState)(!1),n=(0,s.Z)(e,2),t=n[0],l=n[1],c=(0,r.v9)((function(e){return e.common})).currentStock,o=void 0===c?{}:c;return(0,i.useEffect)((function(){l(!!o)}),[o]),(0,f.jsx)(a.Z,{fluid:!0,children:(0,f.jsxs)("div",{className:"app-page-wrapper d-lg-flex gap-1 mx-n4 mt-n4 p-2",children:[(0,f.jsx)(j,{leftColumn:t}),(0,f.jsx)(A,{leftColumn:t,hideLeftColumn:function(){l(!t)}})]})})}}}]);
//# sourceMappingURL=288.27def36c.chunk.js.map